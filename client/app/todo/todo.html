<div ng-include="'components/navbar/navbar.html'"></div>

<div ng-controller="TodoCtrl">

	<div class="container">
		<h2>todo</h2>
		<div class="row">
			<form >
				<legend>todo登録</legend>

				<div class   ="col-lg-3">
					<input
					class   ="form-control"
					type    ="text"
					id      ="name"
					name    ="name"
					ng-model="todo.content">
				</div>

			 	<div class="col-xs-3 selecter  cover closed">
			 		<select
			 		  class     ="form-control"
			 		  ng-model  ="todo.responsible_user"
			 		  ng-options="u.name as u.name for u in users">
			 		<option value="">選択してください</option>
				  </select>
			  </div>

			<span ng-include="'components/datepicker/datepicker.html'"></span>

			<button class   ="btn btn-primary col-lg-1"
			        ng-click="createTodo()">登録</button>
		  </form>
	  </div>

    <div class="row">
	  <h3>todo一覧</h3>
	  <table class="table table-striped">
	  	<tr>
        <th>タスク名</th>
        <th>担当者</th>
        <th>タスク登録者</th>
        <th>期限日</th>
        <th>タスク作成日</th>
        <th></th>
	  	</tr>
      <tr ng:repeat="todo in todos | filter:{deleted_at: null}">
        <td>{{todo.content}}</td>
        <td>{{todo.responsible_user}}</td>
        <td>{{todo.registrant_user}}</td>
        <td>{{todo.limit | date: 'y/M/d'}}</td>
        <td>{{todo.created_at | date: 'y/M/d'}}</td>
        <td><button class   ="btn btn-success"
        	          ng-click="deleteTodo(todo)">完了</button>
        </td>
      </tr>
    </table>
    </div>

  </div>

</div>
